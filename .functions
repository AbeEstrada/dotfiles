# Create a new directory and enter it
function md() {
    mkdir -p "$@" && cd "$@"
}

# List node modules without dependencies
function npmls() {
    npm ls "$@" | grep "^[â””â”œ]" | sed "s/â”€â”¬/â”€â”€/g"
}

# Open with MacVim
function mvim() {
    local f
    for f; do
        test -e "$f" || touch "$f"
    done
    open -a macvim "$@"
}

# Local Server
function server() {
    local port="${1:-8000}"
    open "http://localhost:${port}/"
    python -m SimpleHTTPServer "$port"
}

function localip(){
    function _localip(){ echo "ðŸ“¶  "$(ipconfig getifaddr "$1"); }
    export -f _localip
    local purple="\x1B\[35m" reset="\x1B\[m"
    networksetup -listallhardwareports | \
        sed -r "s/Hardware Port: (.*)/${purple}\1${reset}/g" | \
        sed -r "s/Device: (en.*)$/_localip \1/e" | \
        sed -r "s/Ethernet Address:/ðŸ“˜ /g" | \
        sed -r "s/(VLAN Configurations)|==*//g"
}

# `s` with no arguments opens the current directory in Sublime Text, otherwise
# opens the given location
function s() {
    if [ $# -eq 0 ]; then
        subl .
    else
        subl "$@"
    fi
}

# `o` with no arguments opens current directory, otherwise opens the given
# location
function o() {
    if [ $# -eq 0 ]; then
        open .
    else
        open "$@"
    fi
}
