[language-server.biome]
command = "biome"
args = ["lsp-proxy"]

[language-server.ruff]
command = "ruff"
args = ["server"]
environment = { "RUFF_TRACE" = "messages" }

[language-server.ruff.config.settings]
logLevel = "debug"

[language-server.gopls.config.hints]
# assignVariableTypes = true
# compositeLiteralFields = true
# constantValues = true
# functionTypeParameters = true
# parameterNames = true
# rangeVariableTypes = true

[language-server.typescript-language-server.config.javascript.inlayHints]
# includeInlayEnumMemberValueHints = true
# includeInlayFunctionLikeReturnTypeHints = true
# includeInlayFunctionParameterTypeHints = true
# includeInlayParameterNameHints = "all"
# includeInlayParameterNameHintsWhenArgumentMatchesName = true
# includeInlayPropertyDeclarationTypeHints = true
# includeInlayVariableTypeHints = true

[language-server.astro-ls]
command = "astro-ls"
args = ["--stdio"]
config = { typescript = { tsdk = "/Users/Abe/.bun/install/global/node_modules/typescript/lib" }, environment = "node" }


[[language]]
name = "astro"
scope = "source.astro"
injection-regex = "astro"
file-types = ["astro"]
language-servers = ["astro-ls"]
# roots = ["package.json", "astro.config.mjs"]
auto-format = true
formatter = { command = "prettier", args = [
  "--plugin",
  "prettier-plugin-astro",
  "--parser",
  "astro",
] }

[[language]]
name = "csv"
file-types = ["csv"]
scope = "source.csv"

[[grammar]]
name = "csv"
source.git = "https://github.com/weartist/rainbow-csv-tree-sitter"
source.rev = "d3dbf916446131417e4c2ea9eb8591b23b466d27"

[[language]]
name = "go"
auto-format = true
formatter = { command = "goimports" }

[[language]]
name = "html"
auto-format = true
formatter = { command = "tidy", args = ["-q", "-i", "--"] }

[[language]]
name = "lua"
auto-format = true

[[language]]
name = "markdown"
auto-format = true
soft-wrap.enable = true
# soft-wrap.wrap-at-text-width = true

[[language]]
name = "python"
language-servers = ["pylsp", "ruff"]
auto-format = true
formatter = { command = "ruff", args = ["format", "-n", "-"] }

[[language]]
name = "toml"
auto-format = true
formatter = { command = "taplo", args = [
  "format",
  "--stdin-filepath",
  "file.toml",
  "-",
] }

[[language]]
name = "xml"
auto-format = true
formatter = { command = "xmllint", args = ["--format", "-"] }


[[language]]
name = "javascript"
auto-format = true
formatter = { command = "biome", args = [
  "format",
  "--stdin-file-path",
  "file.js",
] }

[[language]]
name = "json"
auto-format = true
formatter = { command = "biome", args = [
  "format",
  "--stdin-file-path",
  "file.json",
  "--json-formatter-indent-style",
  "space",
] }

[[language]]
name = "typescript"
auto-format = true
formatter = { command = "biome", args = [
  "format",
  "--stdin-file-path",
  "file.ts",
] }

[[language]]
name = "tsx"
auto-format = true
formatter = { command = "biome", args = [
  "format",
  "--stdin-file-path",
  "file.tsx",
] }

[[language]]
name = "jsx"
auto-format = true
formatter = { command = "biome", args = [
  "format",
  "--stdin-file-path",
  "file.jsx",
] }
